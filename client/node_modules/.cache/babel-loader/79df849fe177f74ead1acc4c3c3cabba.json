{"ast":null,"code":"var multer = require('multer');\n\nvar ejs = require('ejs');\n\nconst {\n  Route\n} = require('react-router-dom');\n\nvar storage = multer.diskStorage({\n  destination: (req, file, cb) => {\n    cb(null, './uploads');\n  },\n  filename: (req, file, cb) => {\n    cb(null, Date.now() + file.originalname);\n  }\n});\n\nconst fileFilter = (req, file, cb) => {\n  if (file.mimetype === 'image/jpeg' || file.mimetype === 'image/jpg' || file.mimetype === 'image/png') {\n    cb(null, true);\n  } else {\n    cb(null, false);\n  }\n};\n\nvar upload = multer({\n  storage: storage,\n  fileFilter: fileFilter\n}); // ** para poner en las rutas de Post\n// Router.post(\"/upload\", upload.single('myImg'),async(req,res,next)=>{\n//     if(req,file){\n//         const pathName=req.file.path;\n//         res.send(req.file,pathName)\n//     }\n// })","map":{"version":3,"sources":["D:/Marcos Muni/Proyecto Muni/Gitinspecobras/inspecobras/client/src/components/Upload.jsx"],"names":["multer","require","ejs","Route","storage","diskStorage","destination","req","file","cb","filename","Date","now","originalname","fileFilter","mimetype","upload"],"mappings":"AAAA,IAAIA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAApB;;AACA,IAAIC,GAAG,GAAGD,OAAO,CAAE,KAAF,CAAjB;;AAEA,MAAM;AAAEE,EAAAA;AAAF,IAAYF,OAAO,CAAC,kBAAD,CAAzB;;AAEA,IAAIG,OAAO,GAAGJ,MAAM,CAACK,WAAP,CAAmB;AAC7BC,EAAAA,WAAW,EAAE,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,KAAmB;AAC5BA,IAAAA,EAAE,CAAC,IAAD,EAAO,WAAP,CAAF;AACH,GAH4B;AAI7BC,EAAAA,QAAQ,EAAE,CAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,KAAmB;AACzBA,IAAAA,EAAE,CAAC,IAAD,EAAOE,IAAI,CAACC,GAAL,KAAWJ,IAAI,CAACK,YAAvB,CAAF;AACH;AAN4B,CAAnB,CAAd;;AASA,MAAMC,UAAU,GAAG,CAACP,GAAD,EAAKC,IAAL,EAAUC,EAAV,KAAgB;AAC/B,MAAID,IAAI,CAACO,QAAL,KAAkB,YAAlB,IAAkCP,IAAI,CAACO,QAAL,KAAkB,WAApD,IAAmEP,IAAI,CAACO,QAAL,KAAkB,WAAzF,EAAqG;AACjGN,IAAAA,EAAE,CAAC,IAAD,EAAO,IAAP,CAAF;AACH,GAFD,MAEK;AACDA,IAAAA,EAAE,CAAC,IAAD,EAAO,KAAP,CAAF;AACH;AACJ,CAND;;AAQA,IAAIO,MAAM,GAAGhB,MAAM,CAAC;AAChBI,EAAAA,OAAO,EAACA,OADQ;AAEhBU,EAAAA,UAAU,EAACA;AAFK,CAAD,CAAnB,C,CAKA;AAEA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["var multer = require('multer');\r\nvar ejs = require ('ejs');\r\n\r\nconst { Route } = require('react-router-dom');\r\n\r\nvar storage = multer.diskStorage({\r\n    destination: (req, file, cb) => {\r\n        cb(null, './uploads')\r\n    },\r\n    filename: (req, file, cb) => {\r\n        cb(null, Date.now()+file.originalname)\r\n    }\r\n});\r\n\r\nconst fileFilter = (req,file,cb) =>{\r\n    if (file.mimetype === 'image/jpeg' || file.mimetype === 'image/jpg' || file.mimetype === 'image/png'){\r\n        cb(null, true)\r\n    }else{\r\n        cb(null, false)\r\n    }\r\n}\r\n\r\nvar upload = multer({\r\n    storage:storage,\r\n    fileFilter:fileFilter\r\n})\r\n\r\n// ** para poner en las rutas de Post\r\n\r\n// Router.post(\"/upload\", upload.single('myImg'),async(req,res,next)=>{\r\n//     if(req,file){\r\n//         const pathName=req.file.path;\r\n//         res.send(req.file,pathName)\r\n//     }\r\n// })"]},"metadata":{},"sourceType":"module"}